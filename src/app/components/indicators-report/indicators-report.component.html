<div *ngIf="actions.read">
   <div class="row">
        <div class="header-row col-sm-12 col-md-12" style="display: flex; flex-wrap: wrap; justify-content: flex-end;">
            <button class="buttons-options" mat-menu-item>
                <mat-icon>paid</mat-icon>
                <span>Presupuestos</span>
            </button>
            <button class="buttons-options" mat-menu-item (click)="openInterrealtions()">
                <mat-icon>stream</mat-icon>
                <span>Interrelaciones</span>
            </button>
            <button class="buttons-options" mat-menu-item (click)="openDesviationCauses()">
                <mat-icon>alt_route</mat-icon>
                <span>Causales de desviación</span>
            </button>
        </div>
    </div>

    <mat-tab-group (selectedTabChange)="tabChanged($event)">
        <mat-tab label="Indicadores Portafolio de Proyectos">
            <br>
            <div class="expandible-responsive">
                <mat-accordion>
                    <mat-expansion-panel class="row mat-elevation-z0 card-expansion"
                        [expanded]="step === 0" (opened)="openStates(0)">

                        <mat-expansion-panel-header class="col-sm-12 col-md-12">
                            <mat-panel-title class="col-sm-12 col-md-5">
                                <h3 class="txt-primary title-expansion ">Estados</h3>
                            </mat-panel-title>
                            <mat-panel-description class="col-sm-12 col-md-7">Cantidad de proyectos por estados y vicepresidencias</mat-panel-description>
                        </mat-expansion-panel-header>
                        <br>
                        <ng-template matExpansionPanelContent>
                            <div *ngIf="flagstates" class="row">
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <span class="txt-accent" style="font-weight: 500;">Filtros</span>
                                <form [formGroup]="statesGroup" class="row" style="margin-bottom: 25px;">
                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Años</mat-label>
                                        <mat-select formControlName="yearsForm" multiple>
                                            <mat-option *ngFor="let year of optionsYears" [value]="year">{{year}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <div class="row col-sm-12 col-md-4">
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="primary" (click)="filter(statesGroup, 'statesGroup')">{{labelButton.filter}}</button>
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="accent" (click)="removeValueGroup(statesGroup, 'statesGroup')">{{labelButton.remove}}</button>
                                    </div>
                                </form>    
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <div class="cont-table">
                                    <tecno-dynamic-table class="tables"
                                        [objectsData]="statesByVicepresidenciesTable"
                                        emptyText="Ingrese datos">
                                    </tecno-dynamic-table>
                                    <br>
                                </div>    
                            </div>
                            <div *ngIf="!flagstates" class="spinner">
                                <mat-spinner></mat-spinner>
                            </div>
                        </ng-template>
                        <mat-action-row>
                            <button mat-button color="primary" (click)="nextStep()">{{labelStep.next}}</button>
                        </mat-action-row>
                    </mat-expansion-panel>

                    <mat-expansion-panel class="row mat-elevation-z0 card-expansion"
                        [expanded]="step === 1" (opened)="openTypifications(1)">

                        <mat-expansion-panel-header class="col-sm-12 col-md-12">
                            <mat-panel-title class="col-sm-12 col-md-5">
                                <h3 class="txt-primary title-expansion ">Tipificaciones</h3>
                            </mat-panel-title>
                            <mat-panel-description class="col-sm-12 col-md-7">Cantidad de proyectos por tipificación y vicepresidencias</mat-panel-description>
                        </mat-expansion-panel-header>
                        <br>
                        <ng-template matExpansionPanelContent>
                            <div *ngIf="flagtypifications" class="row">
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <span class="txt-accent" style="font-weight: 500;">Filtros</span>
                                <form [formGroup]="typificationsGroup" class="row" style="margin-bottom: 25px;">
                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Años</mat-label>
                                        <mat-select formControlName="yearsForm" multiple>
                                            <mat-option *ngFor="let year of optionsYears" [value]="year">{{year}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Estatus Proyecto</mat-label>
                                        <mat-select formControlName="statusForm">
                                            <mat-option *ngFor="let status of optionsStatus" [value]="status.id">{{status.name}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <div class="row col-sm-12 col-md-4">
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="primary" (click)="filter(typificationsGroup, 'typificationsGroup')">{{labelButton.filter}}</button>
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="accent" (click)="removeValueGroup(typificationsGroup, 'typificationsGroup')">{{labelButton.remove}}</button>
                                    </div>
                                </form>    
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <div class="cont-table">
                                    <tecno-dynamic-table
                                        [objectsData]="typificationsByVicepresidencies"
                                        emptyText="Ingrese datos">
                                    </tecno-dynamic-table>
                                    <br>
                                </div>
                            </div>
                            <div *ngIf="!flagtypifications" class="spinner">
                                <mat-spinner></mat-spinner>
                            </div>
                        </ng-template>
                        <mat-action-row>
                            <button mat-button color="warn" (click)="prevStep()">{{labelStep.back}}</button>
                            <button mat-button color="primary" (click)="nextStep()">{{labelStep.next}}</button>
                        </mat-action-row>
                    </mat-expansion-panel>

                    <mat-expansion-panel class="row mat-elevation-z0 card-expansion"
                        [expanded]="step === 2" (opened)="openPriorities(2)">

                        <mat-expansion-panel-header class="col-sm-12 col-md-12">
                            <mat-panel-title class="col-sm-12 col-md-5">
                                <h3 class="txt-primary title-expansion ">Prioridades</h3>
                            </mat-panel-title>
                            <mat-panel-description class="col-sm-12 col-md-7">Cantidad de proyectos por prioridad</mat-panel-description>
                        </mat-expansion-panel-header>
                        <ng-template matExpansionPanelContent>
                            <div *ngIf="flagpriorities" class="row">
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <span class="txt-accent" style="font-weight: 500;">Filtros</span>
                                <form [formGroup]="prioritiesGroup" class="row" style="margin-bottom: 25px;">
                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Años</mat-label>
                                        <mat-select formControlName="yearsForm" multiple>
                                            <mat-option *ngFor="let year of optionsYears" [value]="year">{{year}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Estatus Proyecto</mat-label>
                                        <mat-select formControlName="statusForm">
                                            <mat-option *ngFor="let status of optionsStatus" [value]="status.id">{{status.name}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <div class="row col-sm-12 col-md-4">
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="primary" (click)="filter(prioritiesGroup, 'prioritiesGroup')">{{labelButton.filter}}</button>
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="accent" (click)="removeValueGroup(prioritiesGroup, 'prioritiesGroup')">{{labelButton.remove}}</button>
                                    </div>
                                </form>    
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <div *ngIf="!emptyGraphPriorities" class="col-sm-12 col-md-6 graph">
                                    <tecno-pie-charts
                                        [id]="'1'"
                                        [title]="'Prioridad'"
                                        [pieHole]="0.6"
                                        [dataTable]="dataGraphicPriorities">
                                    </tecno-pie-charts>
                                    <br>
                                </div>
                                <div class="col-sm-12 col-md-6 cont-table">
                                    <tecno-dynamic-table
                                        [objectsData]="priorities"
                                        emptyText="Ingrese datos">
                                    </tecno-dynamic-table>
                                </div>
                            </div>
                            <div *ngIf="!flagpriorities" class="spinner">
                                <mat-spinner></mat-spinner>
                            </div>
                        </ng-template>
                        <mat-action-row>
                            <button mat-button color="warn" (click)="prevStep()">{{labelStep.back}}</button>
                            <button mat-button color="primary" (click)="nextStep()">{{labelStep.next}}</button>
                        </mat-action-row>
                    </mat-expansion-panel>

                    <mat-expansion-panel class="row mat-elevation-z0 card-expansion"
                        [expanded]="step === 3" (opened)="openVicepresidencies(3)">
                        <mat-expansion-panel-header class="col-sm-12 col-md-12">
                            <mat-panel-title class="col-sm-12 col-md-5">
                                <h3 class="txt-primary title-expansion ">Vicepresidencias</h3>
                            </mat-panel-title>
                            <mat-panel-description class="col-sm-12 col-md-7">Porcentajes de avance para cada Vicepresidencias y sus Proyectos</mat-panel-description>
                        </mat-expansion-panel-header>

                        <ng-template matExpansionPanelContent>
                            <div *ngIf="flagAdvanceVicepresidencies" class="row">
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <span class="txt-accent" style="font-weight: 500;">Filtros</span>
                                <form [formGroup]="vicepresidenciesGroup" class="row" style="margin-bottom: 25px;">
                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Años</mat-label>
                                        <mat-select formControlName="yearsForm" multiple>
                                            <mat-option *ngFor="let year of optionsYears" [value]="year">{{year}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Estados</mat-label>
                                        <mat-select formControlName="statesForm" multiple>
                                            <mat-option *ngFor="let state of optionsStates" [value]="state.id">{{state.title}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <div class="row col-sm-12 col-md-4">
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="primary" (click)="filter(vicepresidenciesGroup, 'vicepresidenciesGroup')">{{labelButton.filter}}</button>
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="accent" (click)="removeValueGroup(vicepresidenciesGroup, 'vicepresidenciesGroup')">{{labelButton.remove}}</button>
                                    </div>
                                </form>    
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <mat-accordion>
                                    <mat-expansion-panel *ngFor="let vp of advanceVicepresidencies" class="row mat-elevation-z0 card-expansion">
                                        <mat-expansion-panel-header class="col-sm-12 col-md-12">
                                            <mat-panel-title class="col-sm-12 col-md-2">
                                                <h3 class="title-expansion ">{{vp.name}}</h3>
                                            </mat-panel-title>
                                            <mat-panel-description class="col-sm-12 col-md-8 description" style="display: flex; justify-content: space-between;">
                                                <span>Avance Esperado: {{vp.advance_spected}}</span>
                                                <span>Avance Real: {{vp.advance_real}}</span>
                                                <div style="display: flex; justify-content: center; align-items: center;">
                                                    <span>Desviación: {{vp.desviation.value}}</span>
                                                    <div class="circle" [ngStyle]="{'background-color': vp.desviation.color}"></div>
                                                </div>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <tecno-dynamic-table
                                            [objectsData]="vp.tableData"
                                            emptyText="Ingrese datos">
                                        </tecno-dynamic-table>
                                        <mat-action-row>
                                            <button mat-button color="primary" (click)="nextStep()">{{labelStep.next}}</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                            <div *ngIf="!flagAdvanceVicepresidencies" class="spinner">
                                <mat-spinner></mat-spinner>
                            </div>
                        </ng-template>
                            
                        <mat-action-row>
                            <button mat-button color="warn" (click)="prevStep()">{{labelStep.back}}</button>
                            <button mat-button color="primary" (click)="nextStep()">{{labelStep.next}}</button>
                        </mat-action-row>
                    </mat-expansion-panel>

                    <mat-expansion-panel class="row mat-elevation-z0 card-expansion"
                        [expanded]="step === 4" (opened)="openAreas(4)">

                        <mat-expansion-panel-header class="col-sm-12 col-md-12">
                            <mat-panel-title class="col-sm-12 col-md-5">
                                <h3 class="txt-primary title-expansion ">Áreas</h3>
                            </mat-panel-title>
                            <mat-panel-description class="col-sm-12 col-md-7">Cantidad de proyectos y porcentajes de avance por áreas y subáreas</mat-panel-description>
                        </mat-expansion-panel-header>

                        <ng-template matExpansionPanelContent>
                            <div *ngIf="flagAreas" class="row">
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <span class="txt-accent" style="font-weight: 500;">Filtros</span>
                                <form [formGroup]="areasGroup" class="row" style="margin-bottom: 25px;">
                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Años</mat-label>
                                        <mat-select formControlName="yearsForm" multiple>
                                            <mat-option *ngFor="let year of optionsYears" [value]="year">{{year}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Estados</mat-label>
                                        <mat-select formControlName="statesForm" multiple>
                                            <mat-option *ngFor="let state of optionsStates" [value]="state.id">{{state.title}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <div class="row col-sm-12 col-md-4">
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="primary" (click)="filter(areasGroup, 'areasGroup')">{{labelButton.filter}}</button>
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="accent" (click)="removeValueGroup(areasGroup, 'areasGroup')">{{labelButton.remove}}</button>
                                    </div>
                                </form>    
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <mat-accordion>
                                    <mat-expansion-panel *ngFor="let vp of areas" class="row mat-elevation-z0 card-expansion" >
                                        <mat-expansion-panel-header class="col-sm-12 col-md-12" style="padding: 12px;">
                                            <mat-panel-title class="col-sm-12 col-md-2">
                                                <h3 class="title-expansion ">{{vp.name}}</h3>
                                            </mat-panel-title>
                                            <mat-panel-description class="col-sm-12 col-md-8 description" style="display: flex; justify-content: space-between;">
                                                <span>Avance Esperado: {{vp.advance_spected}}</span>
                                                <span>Avance Real: {{vp.advance_real}}</span>
                                                <div style="display: flex; justify-content: center; align-items: center;">
                                                    <span>Desviación: {{vp.desviation.value}}</span>
                                                    <div class="circle" [ngStyle]="{'background-color': vp.desviation.color}"></div>
                                                </div>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <mat-accordion>
                                            <mat-expansion-panel *ngFor="let area of vp.areas[0]" class="row mat-elevation-z0 card-expansion">
                                                <mat-expansion-panel-header class="col-sm-12 col-md-12" style="padding: 5px !important;">
                                                    <mat-panel-title class="col-sm-12 col-md-2">
                                                        <h3 class="txt-primary title-expansion ">{{area.name}}</h3>
                                                    </mat-panel-title>
                                                    <mat-panel-description class="col-sm-12 col-md-8 description" style="display: flex; justify-content: space-between;">
                                                        <span>Avance Esperado: {{area.advance_spected}}</span>
                                                        <span>Avance Real: {{area.advance_real}}</span>
                                                        <div style="display: flex; justify-content: center; align-items: center;">
                                                            <span>Desviación: {{area.desviation.value}}</span>
                                                            <div class="circle" [ngStyle]="{'background-color': area.desviation.color}"></div>
                                                        </div>
                                                    </mat-panel-description>
                                                </mat-expansion-panel-header>
                                                <mat-accordion>
                                                    <!-- sin subarea -->
                                                    <mat-expansion-panel class="row mat-elevation-z0 card-expansion">
                                                        <mat-expansion-panel-header class="col-sm-12 col-md-12" style="padding: 5px !important;">
                                                            <mat-panel-title class="col-sm-12 col-md-2">
                                                                <h3 class="title-expansion ">{{area.withoutSub.name}}</h3>
                                                            </mat-panel-title>
                                                            <mat-panel-description class="col-sm-12 col-md-8 description" style="display: flex; justify-content: space-between;">
                                                                <span>Avance Esperado: {{area.withoutSub.advance_spected}}</span>
                                                                <span>Avance Real: {{area.withoutSub.advance_real}}</span>
                                                                <div style="display: flex; justify-content: center; align-items: center;">
                                                                    <span>Desviación: {{area.withoutSub.desviation.value}}</span>
                                                                    <div class="circle" [ngStyle]="{'background-color': area.withoutSub.desviation.color}"></div>
                                                                </div>
                                                            </mat-panel-description>
                                                        </mat-expansion-panel-header>
                                                        <tecno-dynamic-table
                                                            [objectsData]="area.withoutSub.tableData"
                                                            emptyText="Ingrese datos">
                                                        </tecno-dynamic-table>
                                                    </mat-expansion-panel>
                                                    <!-- con subarea -->
                                                    <mat-expansion-panel *ngFor="let subarea of area.subareas" class="row mat-elevation-z0 card-expansion">
                                                        <mat-expansion-panel-header class="col-sm-12 col-md-12" style="padding: 5px !important;">
                                                            <mat-panel-title class="col-sm-12 col-md-2">
                                                                <h3 class="title-expansion ">{{subarea.name}}</h3>
                                                            </mat-panel-title>
                                                            <mat-panel-description class="col-sm-12 col-md-8 description" style="display: flex; justify-content: space-between;">
                                                                <span>Avance Esperado: {{subarea.advance_spected}}</span>
                                                                <span>Avance Real: {{subarea.advance_real}}</span>
                                                                <div style="display: flex; justify-content: center; align-items: center;">
                                                                    <span>Desviación: {{subarea.desviation.value}}</span>
                                                                    <div class="circle" [ngStyle]="{'background-color': subarea.desviation.color}"></div>
                                                                </div>
                                                            </mat-panel-description>
                                                        </mat-expansion-panel-header>
                                                        <tecno-dynamic-table
                                                            [objectsData]="subarea.tableData"
                                                            emptyText="Ingrese datos">
                                                        </tecno-dynamic-table>
                                                    </mat-expansion-panel>
                                                </mat-accordion>
                                            </mat-expansion-panel>
                                        </mat-accordion>
                                    </mat-expansion-panel>
                                </mat-accordion>
                                <!-- AQUÍ VA EL <mat-accordion> GENERAL -->

                            </div>
                        </ng-template>

                        <mat-action-row>
                            <button mat-button color="warn" (click)="prevStep()">{{labelStep.back}}</button>
                            <button mat-button color="primary" (click)="nextStep()">{{labelStep.next}}</button>
                        </mat-action-row>
                    </mat-expansion-panel>

                    <mat-expansion-panel class="row mat-elevation-z0 card-expansion"
                        [expanded]="step === 5" (opened)="openPrograms(5)">

                        <mat-expansion-panel-header class="col-sm-12 col-md-12">
                            <mat-panel-title class="col-sm-12 col-md-5">
                                <h3 class="txt-primary title-expansion ">Programas</h3>
                            </mat-panel-title>
                            <mat-panel-description class="col-sm-12 col-md-7">Porcentajes de avance para cada Programa, vicepresidencias relacionadas y sus proyectos</mat-panel-description>
                        </mat-expansion-panel-header>
                        
                        <ng-template matExpansionPanelContent>
                            <div *ngIf="flagprograms" class="row">
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <span class="txt-accent" style="font-weight: 500;">Filtros</span>
                                <form [formGroup]="programsGroup" class="row" style="margin-bottom: 25px;">
                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Años</mat-label>
                                        <mat-select formControlName="yearsForm" multiple>
                                            <mat-option *ngFor="let year of optionsYears" [value]="year">{{year}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>Estados</mat-label>
                                        <mat-select formControlName="statesForm" multiple>
                                            <mat-option *ngFor="let state of optionsStates" [value]="state.id">{{state.title}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                                        <mat-label>PMO Asignado</mat-label>
                                        <mat-select formControlName="pmosForm" multiple>
                                            <mat-option *ngFor="let pmo of optionsPMOs" [value]="pmo.id">{{pmo.full_name}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>

                                    <div class="row col-sm-12 col-md-4">
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="primary" (click)="filter(programsGroup, 'programsGroup')">{{labelButton.filter}}</button>
                                        <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="accent" (click)="removeValueGroup(programsGroup, 'programsGroup')">{{labelButton.remove}}</button>
                                    </div>
                                </form>    
                                <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                                <mat-accordion>
                                    <mat-expansion-panel *ngFor="let program of programs" class="row mat-elevation-z1 card-expansion" >
                                        <mat-expansion-panel-header class="col-sm-12 col-md-12 exp" style="padding-left: 60px; padding-right: 60px; align-items: center;">
                                            <mat-panel-title class="col-sm-12 col-md-1">
                                                <h3 class="title-expansion-program">
                                                    <span class="txt-accent">{{program.name}}</span>
                                                    </h3>
                                            </mat-panel-title>
                                            <mat-panel-description class="col-sm-12 col-md-10 description-program">
                                                <span style="width: 13%; padding-left: 2%">
                                                    <span class="span-programs txt-primary">P. Aprovado: <br> </span>
                                                    <span class="span-programs">
                                                        {{program.budget_approved}}
                                                    </span>
                                                </span>
                                                <span style="width: 13%; padding-left: 2%;">
                                                    <span class="span-programs txt-primary">P. Ejecutado: <br></span>
                                                    <span class="span-programs">
                                                        {{program.budget_executed}}
                                                    </span>
                                                </span>
                                                <span style="width: 10%; padding-left: 2%;">
                                                    <span class="span-programs txt-primary">Saldo: <br> 
                                                    </span>
                                                    <span class="span-programs">
                                                        {{program.balance}}
                                                    </span>
                                                </span>
                                                <span style="width: 13%; padding-left: 2%;">
                                                    <span class="span-programs txt-primary">Avance Esperado: <br></span>
                                                    <span class="span-programs">
                                                        {{program.advance_spected}}
                                                    </span>
                                                </span>
                                                <span style="width: 10%; padding-left: 2%;">
                                                    <span class="span-programs txt-primary">Avance Real: <br></span>
                                                    <span class="span-programs">
                                                        {{program.advance_real}}
                                                    </span>
                                                </span>
                                                <span class="indicator-container">
                                                    <span style="width: 10%; padding-left: 2%;">
                                                        <span class="span-programs txt-primary">Desviación: <br></span>
                                                        <span class="span-programs">
                                                            {{program.desviation.value}}
                                                        </span>
                                                    </span>
                                                    <div class="circle" [ngStyle]="{'background-color': program.desviation.color}"></div>
                                                </span>
                                                <span style="width: 13%; padding-left: 2%;">
                                                    <span class="span-programs txt-primary">%P. Ejecutado: <br></span>
                                                    <span class="span-programs">
                                                        {{program.percentage_executed_budget}}
                                                    </span>
                                                </span>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <!-- <mat-divider style="border-top-color: #3f51b5"></mat-divider> -->
                                        <mat-accordion>
                                            <mat-expansion-panel *ngFor="let vp of program.vicepresidencies" class="row mat-elevation-z0 card-expansion" style="padding: 0px;" >
                                                <mat-expansion-panel-header class="col-sm-12 col-md-12 exp" style="align-items: center;">
                                                    <mat-panel-title class="col-sm-12 col-md-1">
                                                        <h3 class="title-expansion-program">
                                                            <span>{{vp.name}}</span>
                                                        </h3>
                                                    </mat-panel-title>
                                                    <mat-panel-description class="col-sm-12 col-md-10 description-program">
                                                        <span style="width: 13%; padding-left: 2%;">{{vp.budget_approved}}</span>
                                                        <span style="width: 13%; padding-left: 2%;">{{vp.budget_executed}}</span>
                                                        <span style="width: 10%; padding-left: 2%;">{{vp.balance}}</span>
                                                        <span style="width: 13%; padding-left: 2%;">{{vp.advance_spected}}</span>
                                                        <span style="width: 10%; padding-left: 2%;">{{vp.advance_real}}</span>
                                                        <span class="indicator-container">
                                                            <span style="width: 10%; padding-left: 2%;">
                                                                <span class="span-programs">
                                                                    {{vp.desviation.value}}
                                                                </span>
                                                            </span>
                                                            <div class="circle" [ngStyle]="{'background-color': vp.desviation.color}"></div>
                                                        </span>
                                                        <span style="width: 13%; padding-left: 2%;">{{vp.percentage_executed_budget}}</span>
                                                    </mat-panel-description>
                                                </mat-expansion-panel-header>

                                                <tecno-dynamic-table
                                                    [objectsData]="vp.tableData"
                                                    [displayedColumns]="['name', 'budget_approved', 'budget_executed', 'balance', 'advance_spected', 'advance_real', 'desviation','percentage_executed_budget']"
                                                    elevation="mat-elevation-z1"
                                                    emptyText="Ingrese datos">
                                                </tecno-dynamic-table>
                                                <br>
                                                <mat-divider style="border-top-color: #e91e63;"></mat-divider>
                                            </mat-expansion-panel>
                                        </mat-accordion>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                        </ng-template>

                        <mat-action-row>
                            <button mat-button color="warn" (click)="prevStep()">{{labelStep.back}}</button>
                        </mat-action-row>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
        </mat-tab>

        <mat-tab label="Indicadores Proveedores">
            <br>
            <ng-template matTabContent>
                <div *ngIf="flagcompanies" class="row" style="width: 100%">
                    <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                    <span class="txt-accent" style="font-weight: 500; padding-top: 40px;">Filtros</span>
                    <form [formGroup]="companiesGroup" class="row" style="margin-bottom: 25px;">
                        <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                            <mat-label>Años</mat-label>
                            <mat-select formControlName="yearsForm" multiple>
                                <mat-option *ngFor="let year of optionsYears" [value]="year">{{year}}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field class="col-sm-12 col-md-2" style="padding-left: 20px !important;">
                            <mat-label>Estados</mat-label>
                            <mat-select formControlName="statesForm" multiple>
                                <mat-option *ngFor="let state of optionsStates" [value]="state.id">{{state.title}}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <div class="row col-sm-12 col-md-4">
                            <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="primary" (click)="filter(companiesGroup, 'companiesGroup')">{{labelButton.filter}}</button>
                            <button mat-raised-button class="col-sm-12 col-md-6 button-filter" color="accent" (click)="removeValueGroup(companiesGroup, 'companiesGroup')">{{labelButton.remove}}</button>
                        </div>
                    </form>    
                    <!-- <<<<<<<<<<< FILTROS >>>>>>>>>>> -->
                    <div *ngIf="!emptyGraphCompanies && indexTab==1" class="col-sm-12 col-md-7 graph">
                        <tecno-column-charts
                            [id]="'3'"
                            [dataTable]="dataGraphicCompanies"
                            width="100%"
                            [height]="heightGraphic"
                            bars="horizontal">
                        </tecno-column-charts>
                    </div>
                    <div class="col-sm-12 col-md-5 cont-table" style="padding-bottom: 20px; max-width: 100%;">
                        <br>
                        <tecno-dynamic-table
                            style="width: 100%;"
                            [objectsData]="companies"
                            emptyText="Ingrese datos">
                        </tecno-dynamic-table>
                    </div>
                </div>
                <div *ngIf="!flagcompanies" class="spinner">
                    <mat-spinner></mat-spinner>
                </div>
            </ng-template>
        </mat-tab>

        <mat-tab label="Indicadores Gerentes de Proyectos">
            <ng-template matTabContent>
                <div *ngIf="flagPMOsOccupation" class="row" style="width: 100%; margin-top: 20px;">
                    <mat-accordion>
                        <mat-expansion-panel *ngFor="let pmo of pmosOccupation" class="row mat-elevation-z0 card-expansion">
                            <mat-expansion-panel-header class="col-sm-12 col-md-12">
                                <mat-panel-title class="col-sm-12 col-md-5">
                                    <h3 class="txt-primary title-expansion ">{{pmo.name}}</h3>
                                </mat-panel-title>
                                <mat-panel-description class="col-sm-12 col-md-7">Ocupación total: {{pmo.occupation}}</mat-panel-description>
                            </mat-expansion-panel-header>
                            <div class="row">
                                <div class="-12 col-md-6">
                                    <h3 class="txt-accent">PMO principal</h3>
                                    <tecno-dynamic-table style="width: 100%;"
                                        [objectsData]="pmo.PMO"
                                        emptyText="Ingrese datos">
                                    </tecno-dynamic-table>
                                </div>
                                <div class="col-sm-12 col-md-6">
                                    <h3 class="txt-accent apoyo">PMO de apoyo</h3>
                                    <tecno-dynamic-table style="width: 100%;"
                                        [objectsData]="pmo.PMOAssistant"
                                        emptyText="Ingrese datos">
                                    </tecno-dynamic-table>
                                </div>

                            </div>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
                <div *ngIf="!flagPMOsOccupation" class="spinner">
                    <mat-spinner></mat-spinner>
                </div>
            </ng-template>
        </mat-tab>
    </mat-tab-group>
</div>

<div *ngIf="!actions.read">
    <tecno-unauthorized></tecno-unauthorized>
</div>