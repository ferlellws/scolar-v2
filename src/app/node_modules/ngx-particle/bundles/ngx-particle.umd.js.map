{"version":3,"file":"ngx-particle.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://ngx-particle/lib/particles.component.ts","ng://ngx-particle/lib/models/utils.ts","ng://ngx-particle/lib/models/particleInteraction.ts","ng://ngx-particle/lib/models/particle.ts","ng://ngx-particle/lib/models/particlesManager.ts","ng://ngx-particle/lib/models/canvasManager.ts","ng://ngx-particle/lib/particles.directive.ts","ng://ngx-particle/lib/particles.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { IParams } from './models';\r\n\r\n@Component({\r\n    selector: 'particles',\r\n    template: `\r\n        <div [ngStyle]=\"style\" class=\"particles-container\">\r\n            <canvas d-particles [params]=\"params\" [style.width.%]=\"width\" [style.height.%]=\"height\"></canvas>\r\n        </div>\r\n    `\r\n})\r\nexport class ParticlesComponent {\r\n\r\n    @Input() width: number = 100;\r\n    @Input() height: number = 100;\r\n    @Input() params: IParams;\r\n    @Input() style: Object = {};\r\n\r\n    constructor() { }\r\n}","import { IParams, ITmpParams } from \"./interfaces\";\r\nimport { Particle } from \"./particle\";\r\n\r\nexport type RGB = {\r\n\tr: number;\r\n\tg: number;\r\n\tb: number;\r\n};\r\n\r\nexport type HSL = {\r\n\th: number;\r\n\ts: number;\r\n\tl: number;\r\n};\r\n\r\nexport const hexToRgb: (hex: string) => RGB =\r\n    (hex) => {\r\n        let shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n        hex = hex.replace(shorthandRegex, (m, r, g, b) => {\r\n            return r + r + g + g + b + b;\r\n        });\r\n        let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n        return result ? {\r\n            r: parseInt(result[1], 16),\r\n            g: parseInt(result[2], 16),\r\n            b: parseInt(result[3], 16)\r\n        } : null;\r\n    };\r\n\r\nexport const clamp: (number: number, min: number, max: number) => number =\r\n    (number, min, max) => {\r\n        return Math.min(Math.max(number, min), max);\r\n    };\r\n\r\nexport const isInArray: (value: any, array: any) => boolean =\r\n    (value, array) => {\r\n        return array.indexOf(value) > -1;\r\n    };\r\n\r\nexport const deepExtend: (destination: any, source: any) => any =\r\n    function (destination, source) {\r\n        for (let property in source) {\r\n            if (source[property] &&\r\n                source[property].constructor &&\r\n                source[property].constructor === Object) {\r\n                destination[property] = destination[property] || {};\r\n                deepExtend(destination[property], source[property]);\r\n            } else {\r\n                destination[property] = source[property];\r\n            }\r\n        }\r\n        return destination;\r\n    };\r\n\r\nexport const getColor: (colorObject: any) => { rgb?: RGB, hsl?: HSL } =\r\n    (colorObject) => {\r\n        let color: { rgb?: RGB, hsl?: HSL } = {};\r\n        if (typeof (colorObject) == 'object') {\r\n            if (colorObject instanceof Array) {\r\n                let selectedColor: string = colorObject[Math.floor(Math.random() * colorObject.length)];\r\n                color.rgb = hexToRgb(selectedColor);\r\n            } else {\r\n                let { r, g, b } = colorObject;\r\n                if (r !== undefined && g !== undefined && b !== undefined) {\r\n                    color.rgb = { r, g, b };\r\n                } else {\r\n                    let { h, s, l } = colorObject;\r\n                    if (h !== undefined && g !== undefined && b !== undefined) {\r\n                        color.hsl = { h, s, l };\r\n                    }\r\n                }\r\n            }\r\n        } else if (colorObject == 'random') {\r\n            color.rgb = {\r\n                r: (Math.floor(Math.random() * 255) + 1),\r\n                g: (Math.floor(Math.random() * 255) + 1),\r\n                b: (Math.floor(Math.random() * 255) + 1)\r\n            }\r\n        } else if (typeof (colorObject) == 'string') {\r\n            color.rgb = hexToRgb(colorObject);\r\n        }\r\n        return color;\r\n    };\r\n\r\nexport const getDefaultParams: () => IParams =\r\n    () => {\r\n        return {\r\n            particles: {\r\n                number: {\r\n                    value: 100,\r\n                    density: {\r\n                        enable: true,\r\n                        value_area: 800\r\n                    }\r\n                },\r\n                color: {\r\n                    value: '#FFF'\r\n                },\r\n                shape: {\r\n                    type: 'circle',\r\n                    stroke: {\r\n                        width: 0,\r\n                        color: '#000000'\r\n                    },\r\n                    polygon: {\r\n                        nb_sides: 5\r\n                    },\r\n                    image: {\r\n                        src: '',\r\n                        width: 100,\r\n                        height: 100\r\n                    }\r\n                },\r\n                opacity: {\r\n                    value: 0.5,\r\n                    random: false,\r\n                    anim: {\r\n                        enable: true,\r\n                        speed: 1,\r\n                        opacity_min: 0.1,\r\n                        sync: false\r\n                    }\r\n                },\r\n                size: {\r\n                    value: 3,\r\n                    random: true,\r\n                    anim: {\r\n                        enable: false,\r\n                        speed: 40,\r\n                        size_min: 0,\r\n                        sync: false\r\n                    }\r\n                },\r\n                line_linked: {\r\n                    enable: true,\r\n                    distance: 150,\r\n                    color: '#FFF',\r\n                    opacity: 0.6,\r\n                    width: 1,\r\n                    shadow: {\r\n                        enable: false,\r\n                        blur: 5,\r\n                        color: 'lime'\r\n                    }\r\n                },\r\n                move: {\r\n                    enable: true,\r\n                    speed: 3,\r\n                    direction: 'none',\r\n                    random: false,\r\n                    straight: false,\r\n                    out_mode: 'out',\r\n                    bounce: true,\r\n                    attract: {\r\n                        enable: false,\r\n                        rotateX: 3000,\r\n                        rotateY: 3000\r\n                    }\r\n                },\r\n                array: []\r\n            },\r\n            interactivity: {\r\n                detect_on: 'canvas',\r\n                events: {\r\n                    onhover: {\r\n                        enable: true,\r\n                        mode: 'grab'\r\n                    },\r\n                    onclick: {\r\n                        enable: true,\r\n                        mode: 'push'\r\n                    },\r\n                    resize: true\r\n                },\r\n                modes: {\r\n                    grab: {\r\n                        distance: 200,\r\n                        line_linked: {\r\n                            opacity: 1\r\n                        }\r\n                    },\r\n                    bubble: {\r\n                        distance: 200,\r\n                        size: 80,\r\n                        duration: 0.4\r\n                    },\r\n                    repulse: {\r\n                        distance: 200,\r\n                        duration: 0.4\r\n                    },\r\n                    push: {\r\n                        particles_nb: 4\r\n                    },\r\n                    remove: {\r\n                        particles_nb: 2\r\n                    }\r\n                },\r\n                mouse: {}\r\n            },\r\n            retina_detect: true\r\n        }\r\n    };\r\n\r\n\r\nexport function loadImg(params: IParams, tmp: ITmpParams) {\r\n    let { particles } = params;\r\n\r\n    tmp.img_error = undefined;\r\n\r\n    if (particles.shape.type == 'image' && particles.shape.image.src != '') {\r\n        if (tmp.img_type == 'svg') {\r\n            let xhr: XMLHttpRequest = new XMLHttpRequest();\r\n            xhr.open('GET', particles.shape.image.src);\r\n            xhr.onreadystatechange = (data: any) => {\r\n                if (xhr.readyState == 4) {\r\n                    if (xhr.status == 200) {\r\n                        tmp.source_svg = data.currentTarget.response;\r\n                        if (tmp.source_svg == undefined) {\r\n                            let check: any;\r\n                            tmp.checkAnimFrame = requestAnimationFrame(check);\r\n                        }\r\n                    } else {\r\n                        tmp.img_error = true;\r\n                        throw \"Error : image not found\";\r\n                    }\r\n                }\r\n            };\r\n            xhr.send();\r\n        } else {\r\n            let img: HTMLImageElement = new Image();\r\n            img.addEventListener('load', () => {\r\n                tmp.img_obj = img;\r\n                cancelAnimationFrame(tmp.checkAnimFrame);\r\n            });\r\n            img.src = particles.shape.image.src;\r\n        }\r\n    } else {\r\n        tmp.img_error = true;\r\n        throw \"Error : no image.src\";\r\n    }\r\n}\r\n\r\nexport function createSvgImg(particle: Particle, tmp: ITmpParams): void {\r\n    let svgXml: string = tmp.source_svg;\r\n    let rgbHex: RegExp = /#([0-9A-F]{3,6})/gi;\r\n    let coloredSvgXml: string = svgXml.replace(rgbHex, (m, r, g, b) => {\r\n        let color_value: string;\r\n        if (particle.color.rgb) {\r\n            let { r, g, b } = particle.color.rgb;\r\n            color_value = `rgba( ${r}, ${g}, ${b}, ${particle.opacity} )`;\r\n        } else {\r\n            let { h, s, l } = particle.color.hsl;\r\n            color_value = `rgba( ${h}, ${s}, ${l}, ${particle.opacity} )`;\r\n        }\r\n        return color_value;\r\n    });\r\n\r\n    let svg: Blob = new Blob([coloredSvgXml], {\r\n        type: 'image/svg+xml;charset=utf-8'\r\n    });\r\n\r\n    let DOMURL: any = window.URL || window;\r\n    let url: any = DOMURL.createObjectURL(svg);\r\n\r\n    let img = new Image();\r\n    img.addEventListener('load', () => {\r\n        particle.img.obj = img;\r\n        particle.img.loaded = true;\r\n        DOMURL.revokeObjectURL(url);\r\n        tmp.count_svg++;\r\n    });\r\n    img.src = url;\r\n}","import { Particle } from './particle';\r\nimport { IParams, ICanvasParams } from './interfaces';\r\n\r\nexport class ParticleInteraction {\r\n    constructor() { }\r\n\r\n    linkParticles(p1: Particle, p2: Particle, params: IParams, canvasParams: ICanvasParams): void {\r\n        let dx: number = p1.x - p2.x;\r\n        let dy: number = p1.y - p2.y;\r\n        let dist: number = Math.sqrt(dx * dx + dy * dy);\r\n        let { line_linked } = params.particles;\r\n\r\n        if (dist <= params.particles.line_linked.distance) {\r\n            let opacity_line: number = params.particles.line_linked.opacity - (dist / (1 / params.particles.line_linked.opacity)) / params.particles.line_linked.distance;\r\n            if (opacity_line > 0) {\r\n                let color_line: any = params.particles.line_linked.color_rgb_line;\r\n                let { r, g, b } = color_line;\r\n                canvasParams.ctx.save();\r\n                canvasParams.ctx.strokeStyle = `rgba( ${r}, ${g}, ${b}, ${opacity_line} )`;\r\n                canvasParams.ctx.lineWidth = params.particles.line_linked.width;\r\n\r\n                canvasParams.ctx.beginPath();\r\n                if (line_linked.shadow.enable) {\r\n                    canvasParams.ctx.shadowBlur = line_linked.shadow.blur;\r\n                    canvasParams.ctx.shadowColor = line_linked.shadow.color;\r\n                }\r\n\r\n                canvasParams.ctx.moveTo(p1.x, p1.y);\r\n                canvasParams.ctx.lineTo(p2.x, p2.y);\r\n                canvasParams.ctx.stroke();\r\n                canvasParams.ctx.closePath();\r\n                canvasParams.ctx.restore();\r\n            }\r\n        }\r\n    }\r\n\r\n    attractParticles(p1: Particle, p2: Particle, params: IParams): void {\r\n        let dx: number = p1.x - p2.x;\r\n        let dy: number = p1.y - p2.y;\r\n        let dist: number = Math.sqrt(dx * dx + dy * dy);\r\n\r\n        if (dist <= params.particles.line_linked.distance) {\r\n            let ax = dx / (params.particles.move.attract.rotateX * 1000);\r\n            let ay = dy / (params.particles.move.attract.rotateY * 1000);\r\n\r\n            p1.vx -= ax;\r\n            p1.vy -= ay;\r\n\r\n            p2.vx += ax;\r\n            p2.vy += ay;\r\n        }\r\n    }\r\n\r\n    bounceParticles(p1: Particle, p2: Particle): void {\r\n        let dx: number = p1.x - p2.x;\r\n        let dy: number = p1.y - p2.y;\r\n        let dist: number = Math.sqrt(dx * dx + dy * dy);\r\n        let dist_p: number = p1.radius + p2.radius;\r\n\r\n        if (dist <= dist_p) {\r\n            p1.vx = -p1.vx;\r\n            p1.vy = -p1.vy;\r\n            p2.vx = -p2.vx;\r\n            p2.vy = -p2.vy;\r\n        }\r\n    }\r\n}","import { ICanvasParams, IParams, ITmpParams } from './interfaces';\r\nimport { getColor, createSvgImg } from './utils';\r\n\r\nexport class Particle {\r\n    radius: number;\r\n    radius_bubble: number;\r\n    size_status: boolean;\r\n    vs: number;\r\n\r\n    x: number;\r\n    y: number;\r\n    color: any;\r\n\r\n    opacity: number;\r\n    opacity_bubble: number;\r\n    opacity_status: boolean;\r\n    vo: number;\r\n\r\n    vx: number;\r\n    vy: number;\r\n\r\n    vx_i: number;\r\n    vy_i: number;\r\n\r\n    shape: string;\r\n\r\n    img: { src: string; ratio: number; loaded?: boolean; obj?: any; };\r\n\r\n    constructor(private _canvasParams: ICanvasParams, private _params: IParams, private _tmpParams: ITmpParams, color?: any, opacity?: any, position?: { x: number; y: number; }) {\r\n        this._setupSize();\r\n        this._setupPosition(position);\r\n        this._setupColor(color);\r\n        this._setupOpacity();\r\n        this._setupAnimation();\r\n    }\r\n\r\n    private _setupSize(): void {\r\n        this.radius = (this._params.particles.size.random ? Math.random() : 1) * this._params.particles.size.value;\r\n        if (this._params.particles.size.anim.enable) {\r\n            this.size_status = false;\r\n            this.vs = this._params.particles.size.anim.speed / 100;\r\n            if (!this._params.particles.size.anim.sync)\r\n                this.vs = this.vs * Math.random();\r\n        }\r\n    }\r\n\r\n    private _setupPosition(position?: { x: number; y: number; }): void {\r\n        this.x = position ? position.x : Math.random() * this._canvasParams.width;\r\n        this.y = position ? position.y : Math.random() * this._canvasParams.height;\r\n\r\n        if (this.x > this._canvasParams.width - this.radius * 2) {\r\n            this.x = this.x - this.radius;\r\n        } else if (this.x < this.radius * 2) {\r\n            this.x = this.x + this.radius;\r\n        }\r\n        if (this.y > this._canvasParams.height - this.radius * 2) {\r\n            this.y = this.y - this.radius;\r\n        } else if (this.y < this.radius * 2) {\r\n            this.y = this.y + this.radius;\r\n        }\r\n\r\n        if (this._params.particles.move.bounce) {\r\n            this._checkOverlap(this, position);\r\n        }\r\n    }\r\n\r\n    private _checkOverlap(p1: Particle, position?: { x: number; y: number; }): void {\r\n        let { particles } = this._params;\r\n\r\n        particles.array.forEach((particle: Particle) => {\r\n            let p2: Particle = particle;\r\n\r\n            let dx: number = p1.x - p2.x;\r\n            let dy: number = p1.y - p2.y;\r\n            let dist: number = Math.sqrt(dx * dx + dy * dy);\r\n\r\n            if (dist <= p1.radius + p2.radius) {\r\n                p1.x = position ? position.x : Math.random() * this._canvasParams.width;\r\n                p1.y = position ? position.y : Math.random() * this._canvasParams.height;\r\n                this._checkOverlap(p1);\r\n            }\r\n        });\r\n    }\r\n\r\n    private _setupColor(color?: any) {\r\n        this.color = getColor(color.value);\r\n    }\r\n\r\n    private _setupOpacity(): void {\r\n        this.opacity = (this._params.particles.opacity.random ? Math.random() : 1) * this._params.particles.opacity.value;\r\n        if (this._params.particles.opacity.anim.enable) {\r\n            this.opacity_status = false;\r\n            this.vo = this._params.particles.opacity.anim.speed / 100;\r\n            if (!this._params.particles.opacity.anim.sync) {\r\n                this.vo = this.vo * Math.random();\r\n            }\r\n        }\r\n    }\r\n\r\n    private _setupAnimation(): void {\r\n        let velbase: { x: number; y: number; } = null;\r\n        switch (this._params.particles.move.direction) {\r\n            case 'top':\r\n                velbase = { x: 0, y: -1 };\r\n                break;\r\n            case 'top-right':\r\n                velbase = { x: 0.5, y: -0.5 };\r\n                break;\r\n            case 'right':\r\n                velbase = { x: 1, y: 0 };\r\n                break;\r\n            case 'bottom-right':\r\n                velbase = { Â x: 0.5, y: 0.5 };\r\n                break;\r\n            case 'bottom':\r\n                velbase = { x: 0, y: 1 };\r\n                break;\r\n            case 'bottom-left':\r\n                velbase = { x: -0.5, y: 1 };\r\n                break;\r\n            case 'left':\r\n                velbase = { x: -1, y: 0 };\r\n                break;\r\n            case 'top-left':\r\n                velbase = { Â x: -0.5, y: -0.5 };\r\n                break;\r\n            default:\r\n                velbase = { Â x: 0, y: 0 };\r\n                break;\r\n        }\r\n\r\n        if (this._params.particles.move.straight) {\r\n            this.vx = velbase.x;\r\n            this.vy = velbase.y;\r\n            if (this._params.particles.move.random) {\r\n                this.vx = this.vx * (Math.random());\r\n                this.vy = this.vy * (Math.random());\r\n            }\r\n        } else {\r\n            this.vx = velbase.x + Math.random() - 0.5;\r\n            this.vy = velbase.y + Math.random() - 0.5;\r\n        }\r\n\r\n        this.vx_i = this.vx;\r\n        this.vy_i = this.vy;\r\n\r\n        let shape_type: any = this._params.particles.shape.type;\r\n\r\n        if (typeof (shape_type) == 'object') {\r\n            if (shape_type instanceof Array) {\r\n                let shape_selected: string = shape_type[Math.floor(Math.random() * shape_type.length)];\r\n                this.shape = shape_selected;\r\n            }\r\n        } else {\r\n            this.shape = shape_type;\r\n        }\r\n\r\n        if (this.shape == 'image') {\r\n            let sh: any = this._params.particles.shape;\r\n            this.img = {\r\n                src: sh.image.src,\r\n                ratio: sh.image.width / sh.image.height\r\n            };\r\n\r\n            if (!this.img.ratio)\r\n                this.img.ratio = 1;\r\n            if (this._tmpParams.img_type == 'svg' && this._tmpParams.source_svg != undefined) {\r\n                createSvgImg(this, this._tmpParams);\r\n                if (this._tmpParams.pushing) {\r\n                    this.img.loaded = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _drawShape(c: CanvasRenderingContext2D, startX: number, startY: number, sideLength: number, sideCountNumerator: number, sideCountDenominator: number): void {\r\n        let sideCount: number = sideCountNumerator * sideCountDenominator;\r\n        let decimalSides: number = sideCountNumerator / sideCountDenominator;\r\n        let interiorAngleDegrees: number = (180 * (decimalSides - 2)) / decimalSides;\r\n        let interiorAngle: number = Math.PI - Math.PI * interiorAngleDegrees / 180;\r\n\r\n        c.save();\r\n        c.beginPath();\r\n        c.translate(startX, startY);\r\n        c.moveTo(0, 0);\r\n\r\n        for (let i = 0; i < sideCount; i++) {\r\n            c.lineTo(sideLength, 0);\r\n            c.translate(sideLength, 0);\r\n            c.rotate(interiorAngle);\r\n        }\r\n\r\n        c.fill();\r\n        c.restore();\r\n    }\r\n\r\n    public draw(): void {\r\n        let { particles } = this._params;\r\n\r\n        let radius: number;\r\n        if (this.radius_bubble != undefined) {\r\n            radius = this.radius_bubble;\r\n        } else {\r\n            radius = this.radius;\r\n        }\r\n\r\n        let opacity: number;\r\n        if (this.opacity_bubble != undefined) {\r\n            opacity = this.opacity_bubble;\r\n        } else {\r\n            opacity = this.opacity;\r\n        }\r\n\r\n        let color_value: string;\r\n\r\n        if (this.color.rgb) {\r\n            let { r, g, b } = this.color.rgb;\r\n            color_value = `rgba( ${r}, ${g}, ${b}, ${opacity} )`;\r\n        } else {\r\n            let { h, s, l } = this.color.hsl;\r\n            color_value = `hsla( ${h}, ${s}, ${l}, ${opacity} )`;\r\n        }\r\n\r\n        this._canvasParams.ctx.fillStyle = color_value;\r\n        this._canvasParams.ctx.beginPath();\r\n\r\n        switch (this.shape) {\r\n            case 'circle':\r\n                this._canvasParams.ctx.arc(this.x, this.y, radius, 0, Math.PI * 2, false);\r\n                break;\r\n\r\n            case 'edge':\r\n                this._canvasParams.ctx.rect(this.x - radius, this.y - radius, radius * 2, radius * 2);\r\n                break;\r\n\r\n            case 'triangle':\r\n                this._drawShape(this._canvasParams.ctx, this.x - radius, this.y + radius / 1.66, radius * 2, 3, 2);\r\n                break;\r\n\r\n            case 'polygon':\r\n                this._drawShape(\r\n                    this._canvasParams.ctx,\r\n                    this.x - radius / (this._params.particles.shape.polygon.nb_sides / 3.5),\r\n                    this.y - radius / (2.66 / 3.5),\r\n                    radius * 2.66 / (this._params.particles.shape.polygon.nb_sides / 3),\r\n                    this._params.particles.shape.polygon.nb_sides,\r\n                    1\r\n                );\r\n                break;\r\n\r\n            case 'star':\r\n                this._drawShape(\r\n                    this._canvasParams.ctx,\r\n                    this.x - radius * 2 / (this._params.particles.shape.polygon.nb_sides / 4),\r\n                    this.y - radius / (2 * 2.66 / 3.5),\r\n                    radius * 2 * 2.66 / (this._params.particles.shape.polygon.nb_sides / 3),\r\n                    this._params.particles.shape.polygon.nb_sides,\r\n                    2\r\n                );\r\n                break;\r\n\r\n            case 'image':\r\n                let draw: (img_obj: any) => void =\r\n                    (img_obj) => {\r\n                        this._canvasParams.ctx.drawImage(\r\n                            img_obj,\r\n                            this.x - radius,\r\n                            this.y - radius,\r\n                            radius * 2,\r\n                            radius * 2 / this.img.ratio\r\n                        );\r\n                    };\r\n                let img_obj: any;\r\n\r\n                if (this._tmpParams.img_type == 'svg') {\r\n                    img_obj = this.img.obj;\r\n                } else {\r\n                    img_obj = this._tmpParams.img_obj;\r\n                }\r\n\r\n                if (img_obj)\r\n                    draw(img_obj);\r\n                break;\r\n        }\r\n\r\n        this._canvasParams.ctx.closePath();\r\n\r\n        if (this._params.particles.shape.stroke.width > 0) {\r\n            this._canvasParams.ctx.strokeStyle = this._params.particles.shape.stroke.color;\r\n            this._canvasParams.ctx.lineWidth = this._params.particles.shape.stroke.width;\r\n            this._canvasParams.ctx.stroke();\r\n        }\r\n\r\n        this._canvasParams.ctx.fill();\r\n    }\r\n}","import { ParticleInteraction } from './particleInteraction';\r\nimport { IParams, ICanvasParams, IMouseParams, ITmpParams } from './interfaces';\r\nimport { Particle } from './particle';\r\nimport { isInArray, clamp } from './utils';\r\n\r\nexport class ParticlesManager {\r\n    private _interaction: ParticleInteraction;\r\n\r\n    constructor(private _canvasParams: ICanvasParams, private _params: IParams, private _tmpParams: ITmpParams) {\r\n        this._interaction = new ParticleInteraction();\r\n    }\r\n\r\n    public particlesCreate(): void {\r\n        let { color, opacity } = this._params.particles;\r\n        for (let i = 0; i < this._params.particles.number.value; i++) {\r\n            this._params.particles.array.push(new Particle(this._canvasParams, this._params, this._tmpParams, color, opacity.value));\r\n        }\r\n    }\r\n\r\n    private _particlesUpdate(): void {\r\n        type Pos = {\r\n            x_left: number;\r\n            x_right: number;\r\n            y_top: number;\r\n            y_bottom: number;\r\n        };\r\n\r\n        this._params.particles.array.forEach((particle: Particle, i: number) => {\r\n            if (this._params.particles.move.enable) {\r\n                let ms = this._params.particles.move.speed / 2;\r\n                particle.x += particle.vx * ms;\r\n                particle.y += particle.vy * ms;\r\n            }\r\n\r\n            if (this._params.particles.opacity.anim.enable) {\r\n                if (particle.opacity_status == true) {\r\n                    if (particle.opacity >= this._params.particles.opacity.value)\r\n                        particle.opacity_status = false;\r\n                    particle.opacity += particle.vo;\r\n                } else {\r\n                    if (particle.opacity <= this._params.particles.opacity.anim.opacity_min)\r\n                        particle.opacity_status = true;\r\n                    particle.opacity -= particle.vo;\r\n                }\r\n                if (particle.opacity < 0)\r\n                    particle.opacity = 0;\r\n            }\r\n\r\n            if (this._params.particles.size.anim.enable) {\r\n                if (particle.size_status == true) {\r\n                    if (particle.radius >= this._params.particles.size.value)\r\n                        particle.size_status = false;\r\n                    particle.radius += particle.vs;\r\n                } else {\r\n                    if (particle.radius <= this._params.particles.size.anim.size_min)\r\n                        particle.size_status = true;\r\n                    particle.radius -= particle.vs;\r\n                }\r\n                if (particle.radius < 0)\r\n                    particle.radius = 0;\r\n            }\r\n\r\n            let new_pos: Pos;\r\n\r\n            if (this._params.particles.move.out_mode == 'bounce') {\r\n                new_pos = {\r\n                    x_left: particle.radius,\r\n                    x_right: this._canvasParams.width,\r\n                    y_top: particle.radius,\r\n                    y_bottom: this._canvasParams.height\r\n                };\r\n            } else {\r\n                new_pos = {\r\n                    x_left: -particle.radius,\r\n                    x_right: this._canvasParams.width + particle.radius,\r\n                    y_top: -particle.radius,\r\n                    y_bottom: this._canvasParams.height + particle.radius\r\n                };\r\n            }\r\n\r\n            if (particle.x - particle.radius > this._canvasParams.width) {\r\n                particle.x = new_pos.x_left;\r\n                particle.y = Math.random() * this._canvasParams.height;\r\n            } else if (particle.x + particle.radius < 0) {\r\n                particle.x = new_pos.x_right;\r\n                particle.y = Math.random() * this._canvasParams.height;\r\n            }\r\n\r\n            if (particle.y - particle.radius > this._canvasParams.height) {\r\n                particle.y = new_pos.y_top;\r\n                particle.x = Math.random() * this._canvasParams.width;\r\n            } else if (particle.y + particle.radius < 0) {\r\n                particle.y = new_pos.y_bottom;\r\n                particle.x = Math.random() * this._canvasParams.width;\r\n            }\r\n\r\n            switch (this._params.particles.move.out_mode) {\r\n                case 'bounce':\r\n                    if (particle.x + particle.radius > this._canvasParams.width)\r\n                        particle.vx = -particle.vx;\r\n                    else if (particle.x - particle.radius < 0)\r\n                        particle.vx = -particle.vx;\r\n                    if (particle.y + particle.radius > this._canvasParams.height)\r\n                        particle.vy = -particle.vy;\r\n                    else if (particle.y - particle.radius < 0)\r\n                        particle.vy = -particle.vy;\r\n                    break;\r\n            }\r\n\r\n            if (isInArray('grab', this._params.interactivity.events.onhover.mode)) {\r\n                this._grabParticle(particle);\r\n            }\r\n\r\n            if (isInArray('bubble', this._params.interactivity.events.onhover.mode) ||\r\n                isInArray('bubble', this._params.interactivity.events.onclick.mode)) {\r\n                this._bubbleParticle(particle);\r\n            }\r\n\r\n            if (isInArray('repulse', this._params.interactivity.events.onhover.mode) ||\r\n                isInArray('repulse', this._params.interactivity.events.onclick.mode)) {\r\n                this._repulseParticle(particle);\r\n            }\r\n\r\n            if (this._params.particles.line_linked.enable || this._params.particles.move.attract.enable) {\r\n                for (let j = i + 1; j < this._params.particles.array.length; j++) {\r\n                    let link = this._params.particles.array[j];\r\n\r\n                    if (this._params.particles.line_linked.enable)\r\n                        this._interaction.linkParticles(particle, link, this._params, this._canvasParams);\r\n\r\n                    if (this._params.particles.move.attract.enable)\r\n                        this._interaction.attractParticles(particle, link, this._params);\r\n\r\n                    if (this._params.particles.move.bounce)\r\n                        this._interaction.bounceParticles(particle, link);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public particlesDraw(): void {\r\n        this._canvasParams.ctx.clearRect(0, 0, this._canvasParams.width, this._canvasParams.height);\r\n        this._particlesUpdate();\r\n\r\n        this._params.particles.array.forEach((particle: Particle) => {\r\n            particle.draw();\r\n        });\r\n    }\r\n\r\n    public particlesEmpty(): void {\r\n        this._params.particles.array = [];\r\n    }\r\n\r\n    public removeParticles(nb: number): void {\r\n        this._params.particles.array.splice(0, nb);\r\n\r\n        if (!this._params.particles.move.enable) {\r\n            this.particlesDraw();\r\n        }\r\n    }\r\n\r\n    public pushParticles(nb: number, pos?: IMouseParams): void {\r\n        this._tmpParams.pushing = true;\r\n\r\n        for (let i = 0; i < nb; i++) {\r\n            this._params.particles.array.push(\r\n                new Particle(\r\n                    this._canvasParams,\r\n                    this._params,\r\n                    this._tmpParams,\r\n                    this._params.particles.color,\r\n                    this._params.particles.opacity.value,\r\n                    {\r\n                        x: pos ? pos.pos_x : Math.random() * this._canvasParams.width,\r\n                        y: pos ? pos.pos_y : Math.random() * this._canvasParams.height\r\n                    })\r\n            );\r\n\r\n            if (i == nb - 1) {\r\n                if (!this._params.particles.move.enable) {\r\n                    this.particlesDraw();\r\n                }\r\n                this._tmpParams.pushing = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _bubbleParticle(particle: Particle) {\r\n        if (this._params.interactivity.events.onhover.enable &&\r\n            isInArray('bubble', this._params.interactivity.events.onhover.mode)) {\r\n\r\n            let dx_mouse: number = particle.x - this._params.interactivity.mouse.pos_x;\r\n            let dy_mouse: number = particle.y - this._params.interactivity.mouse.pos_y;\r\n            let dist_mouse: number = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n            let ratio: number = 1 - dist_mouse / this._params.interactivity.modes.bubble.distance;\r\n\r\n            let init: () => void =\r\n                () => {\r\n                    particle.opacity_bubble = particle.opacity;\r\n                    particle.radius_bubble = particle.radius;\r\n                };\r\n\r\n            if (dist_mouse <= this._params.interactivity.modes.bubble.distance) {\r\n                if (ratio >= 0 && this._params.interactivity.status == 'mousemove') {\r\n\r\n                    if (this._params.interactivity.modes.bubble.size != this._params.particles.size.value) {\r\n                        if (this._params.interactivity.modes.bubble.size > this._params.particles.size.value) {\r\n                            let size: number = particle.radius + (this._params.interactivity.modes.bubble.size * ratio);\r\n                            if (size >= 0) {\r\n                                particle.radius_bubble = size;\r\n                            }\r\n                        } else {\r\n                            let dif: number = particle.radius - this._params.interactivity.modes.bubble.size;\r\n                            let size: number = particle.radius - (dif * ratio);\r\n                            if (size > 0) {\r\n                                particle.radius_bubble = size;\r\n                            } else {\r\n                                particle.radius_bubble = 0;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (this._params.interactivity.modes.bubble.opacity != this._params.particles.opacity.value) {\r\n                        if (this._params.interactivity.modes.bubble.opacity > this._params.particles.opacity.value) {\r\n                            let opacity: number = this._params.interactivity.modes.bubble.opacity * ratio;\r\n                            if (opacity > particle.opacity && opacity <= this._params.interactivity.modes.bubble.opacity) {\r\n                                particle.opacity_bubble = opacity;\r\n                            }\r\n                        } else {\r\n                            let opacity: number = particle.opacity - (this._params.particles.opacity.value - this._params.interactivity.modes.bubble.opacity) * ratio;\r\n                            if (opacity < particle.opacity && opacity >= this._params.interactivity.modes.bubble.opacity) {\r\n                                particle.opacity_bubble = opacity;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                init();\r\n            }\r\n\r\n            if (this._params.interactivity.status == 'mouseleave') {\r\n                init();\r\n            }\r\n\r\n        } else if (this._params.interactivity.events.onclick.enable &&\r\n            isInArray('bubble', this._params.interactivity.events.onclick.mode)) {\r\n\r\n            if (this._tmpParams.bubble_clicking) {\r\n                let dx_mouse: number = particle.x - this._params.interactivity.mouse.click_pos_x;\r\n                let dy_mouse: number = particle.y - this._params.interactivity.mouse.click_pos_y;\r\n                let dist_mouse: number = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n                let time_spent: number = (new Date().getTime() - this._params.interactivity.mouse.click_time) / 1000;\r\n\r\n                if (time_spent > this._params.interactivity.modes.bubble.duration) {\r\n                    this._tmpParams.bubble_duration_end = true;\r\n                }\r\n\r\n                if (time_spent > this._params.interactivity.modes.bubble.duration * 2) {\r\n                    this._tmpParams.bubble_clicking = false;\r\n                    this._tmpParams.bubble_duration_end = false;\r\n                }\r\n\r\n                let process: any = (bubble_param: any, particles_param: any, p_obj_bubble: any, p_obj: any, id: any) => {\r\n                    if (bubble_param != particles_param) {\r\n                        if (!this._tmpParams.bubble_duration_end) {\r\n                            if (dist_mouse <= this._params.interactivity.modes.bubble.distance) {\r\n                                let obj: any;\r\n                                if (p_obj_bubble != undefined) {\r\n                                    obj = p_obj_bubble;\r\n                                } else {\r\n                                    obj = p_obj;\r\n                                }\r\n                                if (obj != bubble_param) {\r\n                                    let value: any = p_obj - (time_spent * (p_obj - bubble_param) / this._params.interactivity.modes.bubble.duration);\r\n                                    if (id == 'size')\r\n                                        particle.radius_bubble = value;\r\n                                    if (id == 'opacity')\r\n                                        particle.opacity_bubble = value;\r\n                                }\r\n                            } else {\r\n                                if (id == 'size')\r\n                                    particle.radius_bubble = undefined;\r\n                                if (id == 'opacity')\r\n                                    particle.opacity_bubble = undefined;\r\n                            }\r\n                        } else {\r\n                            if (p_obj_bubble != undefined) {\r\n                                let value_tmp: any = p_obj - (time_spent * (p_obj - bubble_param) / this._params.interactivity.modes.bubble.duration);\r\n                                let dif: any = bubble_param - value_tmp;\r\n                                let value: any = bubble_param + dif;\r\n                                if (id == 'size')\r\n                                    particle.radius_bubble = value;\r\n                                if (id == 'opacity')\r\n                                    particle.opacity_bubble = value;\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n\r\n                if (this._tmpParams.bubble_clicking) {\r\n                    process(this._params.interactivity.modes.bubble.size, this._params.particles.size.value, particle.radius_bubble, particle.radius, 'size');\r\n                    process(this._params.interactivity.modes.bubble.opacity, this._params.particles.opacity.value, particle.opacity_bubble, particle.opacity, 'opacity');\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _repulseParticle(particle: Particle) {\r\n        if (this._params.interactivity.events.onhover.enable &&\r\n            isInArray('repulse', this._params.interactivity.events.onhover.mode) &&\r\n            this._params.interactivity.status == 'mousemove') {\r\n\r\n            let dx_mouse: number = particle.x - this._params.interactivity.mouse.pos_x;\r\n            let dy_mouse: number = particle.y - this._params.interactivity.mouse.pos_y;\r\n            let dist_mouse: number = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n\r\n            let normVec: any = { x: dx_mouse / dist_mouse, y: dy_mouse / dist_mouse };\r\n            let repulseRadius: number = this._params.interactivity.modes.repulse.distance;\r\n            let velocity: number = 100;\r\n            let repulseFactor: number = clamp((1 / repulseRadius) * (-1 * Math.pow(dist_mouse / repulseRadius, 2) + 1) * repulseRadius * velocity, 0, 50);\r\n\r\n            let pos = {\r\n                x: particle.x + normVec.x * repulseFactor,\r\n                y: particle.y + normVec.y * repulseFactor\r\n            }\r\n\r\n            if (this._params.particles.move.out_mode == 'bounce') {\r\n                if (pos.x - particle.radius > 0 && pos.x + particle.radius < this._canvasParams.width)\r\n                    particle.x = pos.x;\r\n                if (pos.y - particle.radius > 0 && pos.y + particle.radius < this._canvasParams.height)\r\n                    particle.y = pos.y;\r\n            } else {\r\n                particle.x = pos.x;\r\n                particle.y = pos.y;\r\n            }\r\n\r\n        } else if (this._params.interactivity.events.onclick.enable &&\r\n            isInArray('repulse', this._params.interactivity.events.onclick.mode)) {\r\n\r\n            if (!this._tmpParams.repulse_finish) {\r\n                this._tmpParams.repulse_count++;\r\n                if (this._tmpParams.repulse_count == this._params.particles.array.length)\r\n                    this._tmpParams.repulse_finish = true;\r\n            }\r\n\r\n            if (this._tmpParams.repulse_clicking) {\r\n\r\n                let repulseRadius: number = Math.pow(this._params.interactivity.modes.repulse.distance / 6, 3);\r\n\r\n                let dx: number = this._params.interactivity.mouse.click_pos_x - particle.x;\r\n                let dy: number = this._params.interactivity.mouse.click_pos_y - particle.y;\r\n                let d: number = dx * dx + dy * dy;\r\n\r\n                let force: number = -repulseRadius / d * 1;\r\n\r\n                let process: () => void =\r\n                    () => {\r\n                        let f: number = Math.atan2(dy, dx);\r\n                        particle.vx = force * Math.cos(f);\r\n                        particle.vy = force * Math.sin(f);\r\n                        if (this._params.particles.move.out_mode == 'bounce') {\r\n                            let pos: {\r\n                                x: number;\r\n                                y: number;\r\n                            } = {\r\n                                    x: particle.x + particle.vx,\r\n                                    y: particle.y + particle.vy\r\n                                }\r\n                            if (pos.x + particle.radius > this._canvasParams.width)\r\n                                particle.vx = -particle.vx;\r\n                            else if (pos.x - particle.radius < 0)\r\n                                particle.vx = -particle.vx;\r\n                            if (pos.y + particle.radius > this._canvasParams.height)\r\n                                particle.vy = -particle.vy;\r\n                            else if (pos.y - particle.radius < 0)\r\n                                particle.vy = -particle.vy;\r\n                        }\r\n                    };\r\n\r\n                if (d <= repulseRadius) {\r\n                    process();\r\n                }\r\n            } else {\r\n                if (this._tmpParams.repulse_clicking == false) {\r\n                    particle.vx = particle.vx_i;\r\n                    particle.vy = particle.vy_i;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _grabParticle(particle: Particle): void {\r\n        let { interactivity, particles } = this._params;\r\n\r\n        if (interactivity.events.onhover.enable &&\r\n            interactivity.status == 'mousemove') {\r\n\r\n            let dx_mouse: number = particle.x - interactivity.mouse.pos_x;\r\n            let dy_mouse: number = particle.y - interactivity.mouse.pos_y;\r\n            let dist_mouse: number = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n\r\n            if (dist_mouse <= interactivity.modes.grab.distance) {\r\n\r\n                let { grab } = interactivity.modes;\r\n\r\n                let opacity_line: number = grab.line_linked.opacity - (dist_mouse / (1 / grab.line_linked.opacity)) / grab.distance;\r\n\r\n                if (opacity_line > 0) {\r\n                    let color_line: {\r\n                        r: number;\r\n                        g: number;\r\n                        b: number;\r\n                    } = particles.line_linked.color_rgb_line;\r\n\r\n                    let { r, g, b } = color_line;\r\n                    this._canvasParams.ctx.strokeStyle = `rgba( ${r}, ${g}, ${b}, ${opacity_line} )`;\r\n                    this._canvasParams.ctx.lineWidth = particles.line_linked.width;\r\n\r\n                    this._canvasParams.ctx.beginPath();\r\n                    this._canvasParams.ctx.moveTo(particle.x, particle.y);\r\n                    this._canvasParams.ctx.lineTo(interactivity.mouse.pos_x, interactivity.mouse.pos_y);\r\n                    this._canvasParams.ctx.stroke();\r\n                    this._canvasParams.ctx.closePath();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","import { ParticlesManager } from './particlesManager';\r\nimport { ICanvasParams, IParams, ITmpParams } from './interfaces';\r\nimport { hexToRgb } from './utils';\r\n\r\nexport class CanvasManager {\r\n    public particlesManager: ParticlesManager;\r\n\r\n    constructor(private _canvasParams: ICanvasParams, private _params: IParams, private _tmpParams: ITmpParams) {\r\n        this._onWindowResize = this._onWindowResize.bind(this);\r\n\r\n        this._retinaInit();\r\n        this._canvasSize();\r\n\r\n        this.particlesManager = new ParticlesManager(this._canvasParams, this._params, this._tmpParams);\r\n        this.particlesManager.particlesCreate();\r\n\r\n        this._densityAutoParticles();\r\n\r\n        let { particles } = this._params;\r\n        particles.line_linked.color_rgb_line = hexToRgb(particles.line_linked.color);\r\n    }\r\n\r\n    public cancelAnimation(): void {\r\n        if (!this._tmpParams.drawAnimFrame) {\r\n            return;\r\n        }\r\n        cancelAnimationFrame(this._tmpParams.drawAnimFrame);\r\n        this._tmpParams.drawAnimFrame = null;\r\n    }\r\n\r\n    public draw(): void {\r\n        let { particles } = this._params;\r\n\r\n        if (particles.shape.type == 'image') {\r\n            if (this._tmpParams.img_type == 'svg') {\r\n                if (this._tmpParams.count_svg >= particles.number.value) {\r\n                    this.particlesManager.particlesDraw();\r\n                    if (!particles.move.enable) {\r\n                        cancelAnimationFrame(this._tmpParams.drawAnimFrame);\r\n                    } else {\r\n                        this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n                    }\r\n                } else {\r\n                    if (!this._tmpParams.img_error) {\r\n                        this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n                    }\r\n                }\r\n            } else {\r\n                if (this._tmpParams.img_obj != undefined) {\r\n                    this.particlesManager.particlesDraw();\r\n                    if (!particles.move.enable) {\r\n                        cancelAnimationFrame(this._tmpParams.drawAnimFrame);\r\n                    } else {\r\n                        this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n                    }\r\n                } else {\r\n                    if (!this._tmpParams.img_error) {\r\n                        this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.particlesManager.particlesDraw();\r\n\r\n            if (!particles.move.enable) {\r\n                cancelAnimationFrame(this._tmpParams.drawAnimFrame);\r\n            } else {\r\n                this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n            }\r\n        }\r\n    }\r\n\r\n    private _densityAutoParticles(): void {\r\n        let { particles } = this._params;\r\n\r\n        if (particles.number.density.enable) {\r\n            let area: number = this._canvasParams.el.width * this._canvasParams.el.height / 1000;\r\n\r\n            if (this._tmpParams.retina) {\r\n                area = area / (this._canvasParams.pxratio * 2);\r\n            }\r\n\r\n            let nb_particles: number = area * particles.number.value / particles.number.density.value_area;\r\n\r\n            let missing_particles: number = particles.array.length - nb_particles;\r\n\r\n            if (missing_particles < 0) {\r\n                this.particlesManager.pushParticles(Math.abs(missing_particles));\r\n            } else {\r\n                this.particlesManager.removeParticles(missing_particles);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _retinaInit(): void {\r\n        if (this._params.retina_detect && window.devicePixelRatio > 1) {\r\n            this._canvasParams.pxratio = window.devicePixelRatio;\r\n            this._tmpParams.retina = true;\r\n\r\n            this._canvasParams.width = this._canvasParams.el.offsetWidth * this._canvasParams.pxratio;\r\n            this._canvasParams.height = this._canvasParams.el.offsetHeight * this._canvasParams.pxratio;\r\n\r\n            this._params.particles.size.value = this._tmpParams.obj.size_value * this._canvasParams.pxratio;\r\n            this._params.particles.size.anim.speed = this._tmpParams.obj.size_anim_speed * this._canvasParams.pxratio;\r\n            this._params.particles.move.speed = this._tmpParams.obj.move_speed * this._canvasParams.pxratio;\r\n            this._params.particles.line_linked.distance = this._tmpParams.obj.line_linked_distance * this._canvasParams.pxratio;\r\n            this._params.interactivity.modes.grab.distance = this._tmpParams.obj.mode_grab_distance * this._canvasParams.pxratio;\r\n            this._params.interactivity.modes.bubble.distance = this._tmpParams.obj.mode_bubble_distance * this._canvasParams.pxratio;\r\n            this._params.particles.line_linked.width = this._tmpParams.obj.line_linked_width * this._canvasParams.pxratio;\r\n            this._params.interactivity.modes.bubble.size = this._tmpParams.obj.mode_bubble_size * this._canvasParams.pxratio;\r\n            this._params.interactivity.modes.repulse.distance = this._tmpParams.obj.mode_repulse_distance * this._canvasParams.pxratio;\r\n\r\n        } else {\r\n            this._canvasParams.pxratio = 1;\r\n            this._tmpParams.retina = false;\r\n        }\r\n    }\r\n\r\n    private _canvasClear(): void {\r\n        this._canvasParams.ctx.clearRect(0, 0, this._canvasParams.width, this._canvasParams.height);\r\n    }\r\n\r\n    private _canvasPaint(): void {\r\n        this._canvasParams.ctx.fillRect(0, 0, this._canvasParams.width, this._canvasParams.height);\r\n    }\r\n\r\n    private _canvasSize(): void {\r\n        this._canvasParams.el.width = this._canvasParams.width;\r\n        this._canvasParams.el.height = this._canvasParams.height;\r\n\r\n        if (this._params && this._params.interactivity.events.resize) {\r\n            window.addEventListener('resize', this._onWindowResize);\r\n        }\r\n    }\r\n\r\n    private _onWindowResize(): void {\r\n        this._canvasParams.width = this._canvasParams.el.offsetWidth;\r\n        this._canvasParams.height = this._canvasParams.el.offsetHeight;\r\n\r\n        if (this._tmpParams.retina) {\r\n            this._canvasParams.width *= this._canvasParams.pxratio;\r\n            this._canvasParams.height *= this._canvasParams.pxratio;\r\n        }\r\n\r\n        this._canvasParams.el.width = this._canvasParams.width;\r\n        this._canvasParams.el.height = this._canvasParams.height;\r\n\r\n        if (!this._params.particles.move.enable) {\r\n            this.particlesManager.particlesEmpty();\r\n            this.particlesManager.particlesCreate();\r\n            this.particlesManager.particlesDraw();\r\n            this._densityAutoParticles();\r\n        }\r\n\r\n        this._densityAutoParticles();\r\n    }\r\n}\r\n","import { Directive, ElementRef, AfterViewInit, HostListener, Input, OnDestroy } from \"@angular/core\";\r\nimport { CanvasManager, ICanvasParams, IParams, ITmpParams, getDefaultParams, isInArray, deepExtend, loadImg } from './models';\r\n\r\n@Directive({\r\n    selector: '[d-particles]'\r\n})\r\nexport class ParticlesDirective implements AfterViewInit, OnDestroy  {\r\n    @Input() set params(value: IParams) {\r\n        let defaultParams: IParams = getDefaultParams();\r\n        this._params = deepExtend(defaultParams, value);\r\n    }\r\n\r\n    constructor(private el: ElementRef) { }\r\n\r\n    private _canvasParams: ICanvasParams;\r\n    private _params: IParams;\r\n    private _tmpParams: ITmpParams = {};\r\n    private _canvasManager: CanvasManager;\r\n\r\n    ngOnDestroy(): void {\r\n        if (!this._canvasManager) {\r\n            return;\r\n        }\r\n        this._canvasManager.cancelAnimation();\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this._canvasParams = {\r\n            el: this.el.nativeElement,\r\n            ctx: this.el.nativeElement.getContext('2d'),\r\n            width: this.el.nativeElement.offsetWidth,\r\n            height: this.el.nativeElement.offsetHeight\r\n        };\r\n\r\n        this._tmpParams.obj = {\r\n            size_value: this._params.particles.size.value,\r\n            size_anim_speed: this._params.particles.size.anim.speed,\r\n            move_speed: this._params.particles.move.speed,\r\n            line_linked_distance: this._params.particles.line_linked.distance,\r\n            line_linked_width: this._params.particles.line_linked.width,\r\n            mode_grab_distance: this._params.interactivity.modes.grab.distance,\r\n            mode_bubble_distance: this._params.interactivity.modes.bubble.distance,\r\n            mode_bubble_size: this._params.interactivity.modes.bubble.size,\r\n            mode_repulse_distance: this._params.interactivity.modes.repulse.distance\r\n        };\r\n\r\n        this._params.interactivity.el = (this._params.interactivity.detect_on == 'window') ? window : this._canvasParams.el;\r\n\r\n        if (isInArray('image', this._params.particles.shape.type)) {\r\n            this._tmpParams.img_type = this._params.particles.shape.image.src.substr(this._params.particles.shape.image.src.length - 3);\r\n            loadImg(this._params, this._tmpParams);\r\n        }\r\n\r\n        this._canvasManager = new CanvasManager(this._canvasParams, this._params, this._tmpParams);\r\n        this._canvasManager.draw();\r\n    }\r\n\r\n    /**\r\n     * Mouse move event\r\n     * @param event\r\n     */\r\n    @HostListener('mousemove', ['$event']) onMouseMove(event) {\r\n        let { interactivity } = this._params;\r\n\r\n        if (interactivity.events.onhover.enable ||\r\n            interactivity.events.onclick.enable) {\r\n\r\n            let pos: {\r\n                x: number;\r\n                y: number;\r\n            };\r\n\r\n            if (interactivity.el == window) {\r\n                pos = {\r\n                    x: event.clientX,\r\n                    y: event.clientY\r\n                };\r\n            } else {\r\n                pos = {\r\n                    x: event.offsetX || event.clientX,\r\n                    y: event.offsetY || event.clientY\r\n                };\r\n            }\r\n\r\n            interactivity.mouse.pos_x = pos.x;\r\n            interactivity.mouse.pos_y = pos.y;\r\n\r\n            if (this._tmpParams.retina) {\r\n                interactivity.mouse.pos_x *= this._canvasParams.pxratio;\r\n                interactivity.mouse.pos_y *= this._canvasParams.pxratio;\r\n            }\r\n\r\n            interactivity.status = 'mousemove';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Mouse leave event\r\n     */\r\n    @HostListener('mouseleave') onMouseLeave() {\r\n        let { interactivity } = this._params;\r\n\r\n        if (interactivity.events.onhover.enable ||\r\n            interactivity.events.onclick.enable) {\r\n\r\n            interactivity.mouse.pos_x = null;\r\n            interactivity.mouse.pos_y = null;\r\n            interactivity.status = 'mouseleave';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Click event\r\n     */\r\n    @HostListener('click') onClick() {\r\n        let { interactivity, particles } = this._params;\r\n\r\n        if (interactivity.events.onclick.enable) {\r\n            interactivity.mouse.click_pos_x = interactivity.mouse.pos_x;\r\n            interactivity.mouse.click_pos_y = interactivity.mouse.pos_y;\r\n            interactivity.mouse.click_time = new Date().getTime();\r\n\r\n            switch (interactivity.events.onclick.mode) {\r\n                case 'push':\r\n                    if (particles.move.enable) {\r\n                        this._canvasManager.particlesManager.pushParticles(interactivity.modes.push.particles_nb, interactivity.mouse);\r\n                    } else {\r\n                        if (interactivity.modes.push.particles_nb == 1) {\r\n                            this._canvasManager.particlesManager.pushParticles(interactivity.modes.push.particles_nb, interactivity.mouse);\r\n                        } else if (interactivity.modes.push.particles_nb > 1) {\r\n                            this._canvasManager.particlesManager.pushParticles(interactivity.modes.push.particles_nb);\r\n                        }\r\n                    }\r\n                    break;\r\n\r\n                case 'remove':\r\n                    this._canvasManager.particlesManager.removeParticles(interactivity.modes.remove.particles_nb);\r\n                    break;\r\n\r\n                case 'bubble':\r\n                    this._tmpParams.bubble_clicking = true;\r\n                    break;\r\n\r\n                case 'repulse':\r\n                    this._tmpParams.repulse_clicking = true;\r\n                    this._tmpParams.repulse_count = 0;\r\n                    this._tmpParams.repulse_finish = false;\r\n                    setTimeout(() => {\r\n                        this._tmpParams.repulse_clicking = false;\r\n                    }, interactivity.modes.repulse.duration * 1000);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ParticlesComponent } from './particles.component';\r\nimport { ParticlesDirective } from './particles.directive';\r\n\r\nexport * from './particles.component';\r\nexport * from './particles.directive';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        ParticlesComponent,\r\n        ParticlesDirective\r\n    ],\r\n    exports: [\r\n        ParticlesComponent,\r\n        ParticlesDirective\r\n    ]\r\n})\r\nexport class ParticlesModule { }"],"names":["Input","Component","ElementRef","HostListener","Directive","NgModule","CommonModule"],"mappings":"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"}